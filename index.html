<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Bingsmaps Testpage</title>
	<style media="print, screen, projection" type="text/css">@import url("css/master.css");</style>
	<script src="http://code.jquery.com/jquery-1.4.4.min.js" type="text/javascript"></script>
	<script charset="UTF-8" type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
	<script type="text/javascript" src="js/jquery.bingmaps.js"></script>
	<script type="text/javascript" src="data/cities.js"></script>
	<script type="text/javascript">
		var CONFIG = {
			BingMaps : {
				key : "Alh0Z_N_bhxmZVjfGz03A72pH8RggPFyWCgsNdo0PYKlGzfJaJofah_tp3qExckg"
			}
		};

		function infoBoxFn(div, data) {
			var that = this;
			$(div).append($('<p>' + data.name + '</p>').click(function(){
				that.hide();
			}));
		}
		$(function() {
			var map = $('.bingmaps').each(function() {


				//j = $.parseJSON($.trim($('script', $(this)).html()));


				$(this).bingmaps({key: CONFIG.BingMaps.key, pushPins: cities, infoBox: infoBoxFn});
			});

/*
//			$('a[rel="addLocation"]').click(function() {
//				var pin = pins[$(this).attr('data-name')];
//				map.bingmaps('pushPins', {pushPins: pin });
//
//			});
			$('a[rel="clearAllSetSingle"]').click(function() {
				var pin = pins[$(this).attr('data-name')];
				map.bingmaps('clearPushPins');
				map.bingmaps('pushPins', {pushPins: pin });

			})
*/
		});

	</script>
</head>
<body>
<h1>Bingmaps</h1>

<div class="bingmaps">
<!--
	<script type="text/json">
		{"pins": [
		{
		"date": "",
		"city": "",
		"url": "",
		"title": "Hamburg",
		"description": "Überall dieselbe alte Leier. Das Layout ist fertig, der Text lässt auf sich warten. Damit das Layout nun nicht nackt im Raume steht und sich klein und leer vorkommt, springe ich ein: der Blindtext.",
		"image": "../img/dummies/dummy-69x69px.jpg",
		"location": [53.550556, 9.993333]
		}
		]}
	</script>
-->
</div>

<ul>
	<li><a href="javascript:void(0);" rel="addLocation" data-name="0">Add Location Hamburg</a></li>
	<li><a href="javascript:void(0);" rel="addLocation" data-name="1">Add Location Berlin</a></li>
	<li><a href="javascript:void(0);" rel="addLocation" data-name="8">Add Location Munich</a></li>
	<li><a href="javascript:void(0);" rel="clearAllSetSingle" data-name="0">clear all set Location Hamburg</a></li>
	<li><a href="javascript:void(0);" rel="clearAllSetSingle" data-name="1">clear all set Location Berlin</a></li>
	<li><a href="javascript:void(0);" rel="clearAllSetSingle" data-name="8">clear all set Location Munich</a></li>
</ul>

</body>
</html>
